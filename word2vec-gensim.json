{"version":3,"kind":"Notebook","sha256":"0a37eaa30404411b522fc8f4002afd594411beb82b878999c0c7aa82ba7015c7","slug":"word2vec-gensim","location":"/notebook/word2vec_gensim.ipynb","dependencies":[],"frontmatter":{"title":"GensimによるWord2Vecの学習と使用","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"jupyterbook","language":"python"},"github":"https://github.com/lvzeyu/css_nlp","numbering":{"heading_1":{"enabled":true,"template":"enabled"},"heading_2":{"enabled":true,"template":"enabled"},"heading_3":{"enabled":true,"template":"enabled"},"heading_4":{"enabled":true,"template":"enabled"},"heading_5":{"enabled":true,"template":"enabled"},"heading_6":{"enabled":true,"template":"enabled"},"title":{"offset":1}},"source_url":"https://github.com/lvzeyu/css_nlp/blob/master/notebook/word2vec_gensim.ipynb","edit_url":"https://github.com/lvzeyu/css_nlp/edit/master/notebook/word2vec_gensim.ipynb","thumbnail":"/build/7e2db436150c38a00650f96925aa5581.svg","exports":[{"format":"ipynb","filename":"word2vec_gensim.ipynb","url":"/build/word2vec_gensim-b168ccf09439fccf7c574bb085b4dc4f.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://colab.research.google.com/github/lvzeyu/css_nlp/blob/master/notebook/word2vec_gensim.ipynb","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"image","url":"/build/7e2db436150c38a00650f96925aa5581.svg","alt":"Open In Colab","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"MgCnrGnsVJ","urlSource":"https://colab.research.google.com/assets/colab-badge.svg"}],"urlSource":"https://colab.research.google.com/github/lvzeyu/css_nlp/blob/master/notebook/word2vec_gensim.ipynb","key":"pRpcMAcqbq"}],"key":"esaQUdmWEH"}],"key":"yWrBkKHtNM"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"前章でCBOWモデルを実装することでword2vecの仕組みを学びました。実際に、その以外、word2vecの関して様々な取り組みがあります。","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SRIisZl8ma"}],"key":"FDi4hnwpED"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Skip-gramモデルでは、ターゲットからコンテキストを推測するタスクを構築しています","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sms8w5djkL"}],"key":"plkmuVLRGb"}],"key":"g0o72Zor3C"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Negative Samplingという新しい損失関数を導入することで学習の高速化を図る","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"iLCyE0gOBi"}],"key":"RII4L3ANeN"}],"key":"SeLcnlsvrV"}],"key":"xIRzW0lTtF"},{"type":"paragraph","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"応用の視点から、これらの手法をすべでゼロから実装することが難しいので、","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"frKBsLgBBB"},{"type":"link","url":"https://radimrehurek.com/gensim/index.html","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"gensim","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"jDlLFP5MX9"}],"urlSource":"https://radimrehurek.com/gensim/index.html","key":"dX8QRa6wHG"},{"type":"text","value":"というライブラリを使って、Word2Vecモデルを学習、管理、使用することは、多くの自然言語処理タスクにおいて効果的な選択肢となります。","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yVNqlbGIeh"}],"key":"cy153YI798"}],"key":"rFLQnUD1oj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"#!pip install --upgrade gensim\n#!pip install mecab-python3\n#!pip install unidic-lite","key":"jdB3CIGY52"},{"type":"outputs","id":"ao4iw69X9BTUq0RxCt16O","children":[],"key":"wDgW7kOE2i"}],"key":"K5sqAAQL45"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Gensimの使い方","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o1TK83AqPk"}],"identifier":"gensim","label":"Gensimの使い方","html_id":"gensim","implicit":true,"enumerator":"1","key":"J76xUBu1iZ"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Gensimによる学習","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZsMkqL9GzX"}],"identifier":"gensim","label":"Gensimによる学習","html_id":"gensim-1","implicit":true,"enumerator":"1.1","key":"m1CVN3NnMq"}],"key":"ozCCmcwEQv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from gensim.models import Word2Vec\n\nsample_sents = [['you', 'say', 'goodbye', 'and', 'I', \"say\", \"hello\" '.']]\nmodel = Word2Vec(sentences=sample_sents, vector_size=5, window=1, min_count=1)","key":"YkVIPQ97th"},{"type":"outputs","id":"9e44_Z36ILMpzFQNPityN","children":[],"key":"zJRSn13Pei"}],"key":"QsxKQfozzV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"model.wv['you']","key":"L17pnLxL5F"},{"type":"outputs","id":"MBKyjxiRGazICVcVbWkfC","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":2,"metadata":{},"data":{"text/plain":{"content":"array([-0.06810732, -0.01892803,  0.11537147, -0.15043275, -0.07872207],\n      dtype=float32)","content_type":"text/plain"}}},"children":[],"key":"rYhs2XI84j"}],"key":"DP7k1nESxX"}],"key":"kRQ7iMAJN9"},{"type":"block","kind":"notebook-content","children":[{"type":"table","position":{"start":{"line":1,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"オプション","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jSiLRctRUi"}],"key":"tO53GbNFRX"},{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"説明","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r2mxqFcAkz"}],"key":"PMLYvEbsmP"}],"key":"trpLrliIe9"},{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"sentences","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xUDjgMKA28"}],"key":"TIoNGMfIqD"},{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"元となるコーパス．単語リストのリスト．","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"cFUg78T9f9"}],"key":"LWsVHTDQB6"}],"key":"YnVGBOqnXW"},{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"corpus_file","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zIL9SkIC3Z"}],"key":"FzfWR6FfJy"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"コーパスをファイル読み込みする場合に指定．1行1文の形式で，単語は空白区切りで認識される．","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Luk13pQNCI"}],"key":"IrxP3mwC9v"}],"key":"K4vhUaBVWl"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"vector_size","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"fmidSIFIPI"}],"key":"wdIbdsn6qP"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"分散表現の次元．リファレンスではvector_sizeと書いてあるように見えるが，sizeでないと動かない．","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vUkomu0YpG"}],"key":"kajeu3DIOu"}],"key":"mDJ6EoYdPR"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"window","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"m4UhUYMZ6v"}],"key":"iLWeoBUCG5"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"学習時に利用されるコンテキストの長さ．","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"hFn1QdwhDZ"}],"key":"fSofIelSMQ"}],"key":"cg1B3PBMdU"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"min_count","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"WMpLST9tgF"}],"key":"xgEqAbj5Gk"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"分散表現を獲得する単語の最小頻度","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Cn1KhTFm61"}],"key":"wkt59qzOAS"}],"key":"VDABZUTJxO"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"workers","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"kaGJncvIvR"}],"key":"LrgQdaUiR1"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"学習時の使用スレッド数．","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Wp2rKhXrXo"}],"key":"dVtwpMFAPh"}],"key":"gUoQJKrsrv"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"sg","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"RWB26nW2vz"}],"key":"IlZI1U8lPV"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"学習アルゴリズムの選択．","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"kESRsakAcH"},{"type":"text","value":"1","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"KclX0T3p5o"},{"type":"text","value":"ならskip-gram，","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"SmUI6RD830"},{"type":"text","value":"0","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YErbNVxagm"},{"type":"text","value":"ならCBOW．","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"xzEe3IpsA5"}],"key":"j7G2TS6r6Z"}],"key":"svsjGNoQKF"}],"key":"HSCIYc6oJV"}],"key":"T4ZKWhCqIq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"with open('./Data/lee_background.cor', 'r') as file:\n    corpus = file.readlines()","key":"Whk9UuxZxc"},{"type":"outputs","id":"FZf2ov_xKX9feyTzkncEw","children":[],"key":"GiasyZUnLc"}],"key":"IsCsZ8BDpZ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"processed_corpus = [line.lower().split() for line in corpus]","key":"bazkPjU3hl"},{"type":"outputs","id":"iLDZeREld_Jq7_1a7ntOi","children":[],"key":"MDwmIZ3cQP"}],"key":"QRXVuJcdnH"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"model = Word2Vec(\n    sentences=processed_corpus,  # 学習対象のコーパス\n    vector_size=100,             # 埋め込みベクトルの次元数\n    window=5,                    # コンテキストウィンドウのサイズ\n    min_count=5,                 # 登場頻度が5未満の単語は無視\n    sg=1,                        # 1でskip-gramを使用（0ならCBOW）\n    negative=5                   # negative samplingのサンプル数\n)","key":"nezbzhZXCh"},{"type":"outputs","id":"RUHJePhO66mCGdCbWJS-H","children":[],"key":"loaHTZsu9M"}],"key":"Stgo6Dq1TO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Gensimによる日本語モデル学習","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g7Oge4JwvH"}],"identifier":"gensim","label":"Gensimによる日本語モデル学習","html_id":"gensim-2","implicit":true,"enumerator":"1.2","key":"K6cz3jdGgE"}],"key":"fh5LXk11jw"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import MeCab\ndef tokenize(text):\n    \"\"\" テキストを形態素解析して、トークンのリストを返す \"\"\"\n    mecab = MeCab.Tagger(\"-Owakati\")\n    return mecab.parse(text).strip().split()","key":"LGF46mCdWL"},{"type":"outputs","id":"J-HyNWKD1MwypB4hJRaHD","children":[],"key":"fvmld9MBsR"}],"key":"eXkGFAT41e"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"documents = [\"これはサンプルの文書です。\", \"Word2Vecの学習を行います。\"]\n\n# 形態素解析を行い、単語リストに変換\ntokenized_documents = [tokenize(doc) for doc in documents]\n","key":"xVMZDT6EsB"},{"type":"outputs","id":"L5fL8Y7G7aHTxIuWoPA0A","children":[],"key":"lyC3slVLRr"}],"key":"vUyZor9f8v"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Word2Vecモデルの訓練\n\nmodel_jp = Word2Vec(sentences=tokenized_documents, vector_size=100, window=5, min_count=1, workers=4)","key":"a6FR408aq0"},{"type":"outputs","id":"oi-QKLo89aGmVCP3zDie9","children":[],"key":"D1MjakbPZN"}],"key":"objGu4Lrd8"},{"type":"block","kind":"notebook-content","children":[{"type":"tabSet","children":[{"type":"tabItem","title":"課題","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"日本語のコーパスデータを用いて、Word2Vecモデルを学習してください。","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HMZ3iCJD1e"}],"key":"gvgMeRm9Wa"}],"key":"YD1BWAVhT1"}],"key":"WI2QlPf5LS"}],"key":"DDLgjYJykQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"モデルの使い方","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HRYbcHiuHO"}],"identifier":"id","label":"モデルの使い方","html_id":"id","implicit":true,"enumerator":"1.3","key":"wscydlxF2j"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"モデルには,","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"LFl03SI66t"},{"type":"inlineCode","value":"wv","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"IQqu8rMYnd"},{"type":"text","value":"というオブジェクトに単語と単語分散表現の情報が格納されています。さらに、学習済みの単語ベクトルにアクセスし、それらを操作するための主要なインターフェースを提供します。","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"xUUcn2empT"}],"key":"pdotw7ckRR"}],"key":"iw5LR2x5RB"},{"type":"block","kind":"notebook-content","children":[{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"単語ベクトルの取得: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"arccYGXU5g"},{"type":"inlineCode","value":"model.wv['word']","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jd3CoodhBb"},{"type":"text","value":" で特定の単語のベクトルを取得できます。","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LGI7AbpY2i"}],"key":"SvaXShBndh"}],"key":"T5Oj4xWql6"}],"key":"Z1hNylIspt"}],"key":"gVMkGnDDpi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"model.wv['you']","key":"rU2jA8K1al"},{"type":"outputs","id":"rh5-YX7CRvr0ECg0FxMfR","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":60,"metadata":{},"data":{"text/plain":{"content":"array([-0.00307982,  0.22879797,  0.1039058 ,  0.20323835,  0.06537586,\n       -0.7105258 ,  0.29213727,  0.8992749 , -0.35582012, -0.41452944,\n       -0.25418743, -0.6508533 , -0.24561188,  0.07932971,  0.13662694,\n       -0.20141453,  0.12215281, -0.20007145,  0.12770739, -0.9059785 ,\n        0.22014627,  0.20409352,  0.40092307, -0.16720138, -0.13147773,\n       -0.14637163, -0.53138137, -0.1440311 , -0.3737898 ,  0.05188401,\n        0.5665317 , -0.08456989,  0.38040233, -0.6733446 , -0.08252468,\n        0.34136096,  0.18737307, -0.3356112 , -0.4150798 , -0.5506394 ,\n        0.15834768, -0.29411098, -0.3682792 ,  0.22682002,  0.24956211,\n       -0.19739659, -0.38888448, -0.06427043,  0.23042367,  0.3532887 ,\n        0.20195435, -0.26739174, -0.22128567, -0.11839921, -0.20650993,\n       -0.02059098,  0.2107421 , -0.14380229, -0.39475212,  0.08770867,\n       -0.06955902,  0.13645834,  0.0296844 ,  0.01068899, -0.56741667,\n        0.50749815,  0.04701915,  0.14689498, -0.4699005 ,  0.3054553 ,\n       -0.31843606,  0.21765117,  0.5028969 , -0.1533785 ,  0.5187301 ,\n        0.05662987, -0.06081144, -0.02323364, -0.31800106,  0.03728152,\n       -0.2759491 , -0.05696228, -0.20443682,  0.58449066, -0.16667598,\n       -0.16908468, -0.07609297,  0.05785962,  0.5823198 , -0.01083744,\n        0.58977574,  0.35616273,  0.05064252,  0.06198679,  0.70355225,\n        0.2796451 ,  0.03408527, -0.09350925,  0.12931164, -0.24790686],\n      dtype=float32)","content_type":"text/plain"}}},"children":[],"key":"gOq9ehiObu"}],"key":"imtJlnTEtc"}],"key":"JPpfCFjLi8"},{"type":"block","kind":"notebook-content","children":[{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"類似度の計算: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Nb5O8HfCNI"},{"type":"inlineCode","value":"model.wv.similarity('word1', 'word2')","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MHls1oJ9Qm"},{"type":"text","value":" で2つの単語間の類似度を計算できます。","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cG4gP1jsKF"}],"key":"PQ4nOhIxcE"}],"key":"UncAicyCw5"}],"key":"Q4CFjXsX4f"}],"key":"o9LgNTqiSe"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"model.wv.similarity(\"you\", \"your\")","key":"BGC15zwH9p"},{"type":"outputs","id":"h8g_urE_DZlw5TSbZ7EHy","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":61,"metadata":{},"data":{"text/plain":{"content":"0.99927604","content_type":"text/plain"}}},"children":[],"key":"mskcEEAl6q"}],"key":"LiKQzRl1IT"}],"key":"HMHbfIENQo"},{"type":"block","kind":"notebook-content","children":[{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"最も類似した単語の取得: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TPP6I7X5yB"},{"type":"inlineCode","value":"model.wv.most_similar('word')","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VpOIannDjl"},{"type":"text","value":" で特定の単語に最も類似した単語を取得できます","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sg8YzKLO8q"}],"key":"Ria5JBOxkg"}],"key":"XEHtP2jmBJ"}],"key":"rFfRI7oley"}],"key":"TYWeQQMHmB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"model.wv.most_similar(\"you\")","key":"G365QETRRG"},{"type":"outputs","id":"sguHlmaqC_TWB8f5efToN","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":62,"metadata":{},"data":{"text/plain":{"content":"[('this', 0.9997385740280151),\n ('last', 0.9997153282165527),\n ('police', 0.9997124075889587),\n ('were', 0.999710738658905),\n ('with', 0.999710202217102),\n ('also', 0.999708890914917),\n ('us', 0.9997062087059021),\n ('are', 0.9997057914733887),\n ('over', 0.9997038245201111),\n ('some', 0.9996989965438843)]","content_type":"text/plain"}}},"children":[],"key":"FsCNWaRvjy"}],"key":"emeil5Wz2p"}],"key":"SrPbvdRzYk"},{"type":"block","kind":"notebook-content","children":[{"type":"admonition","kind":"note","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Note","key":"safGxPPWQC"}],"key":"YADdl5TzHN"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Gensimで学習済みモデルを使用する方法は、モデルの種類と読み込み方法によって異なります。通常は、通常は","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"fLikJRIdJu"},{"type":"inlineCode","value":"wv","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Z4gIr5K2JS"},{"type":"text","value":"を介してベクトルにアクセスしますが、","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ixOmHfkhaH"},{"type":"inlineCode","value":"KeyedVectors","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"NmRoTDlG5B"},{"type":"text","value":"を使用する場合、","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EWEoXMsetf"},{"type":"inlineCode","value":"KeyedVectors","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"f7H7c2TbrA"},{"type":"text","value":"自体が単語ベクトルへの直接アクセスを提供するので、","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"dJQ0oWcz60"},{"type":"inlineCode","value":"wv","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"B3nlTaPdyn"},{"type":"text","value":"は不要です。","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"L1m5aijsmV"}],"key":"mOCannjnwB"}],"key":"r2FZcKLFzS"}],"key":"KdB0zndR83"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"モデルの管理","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nmZcOQfBh1"}],"identifier":"id","label":"モデルの管理","html_id":"id-1","implicit":true,"enumerator":"1.4","key":"vdAO9FRq91"}],"key":"H1WwRifF9q"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# モデルの保存と読み込み\n#model.save(\"word2vec.model\")\n#model = Word2Vec.load(\"word2vec.model\")","key":"VLVgJuM7TF"},{"type":"outputs","id":"PAipNOF9x0pVB_xT8zYS8","children":[],"key":"JbQcvRxC9I"}],"key":"EooHgL3SR7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"学習済みモデルの読み込み","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"b8c1zDByLl"}],"identifier":"id","label":"学習済みモデルの読み込み","html_id":"id-2","implicit":true,"enumerator":"1.4.1","key":"pJ6Ni4rS26"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Gensimはいくつかの学習済みモデルを提供して、簡単に読み込むことができます。","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"J7sMbsUu93"}],"key":"AxsX2eRSEk"}],"key":"L4ANPdfMt3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import gensim.downloader\n\nprint(list(gensim.downloader.info()['models'].keys()))","key":"ZUTg0eU0eN"},{"type":"outputs","id":"d9XTEhZhhcllbfwY_03RI","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"['fasttext-wiki-news-subwords-300', 'conceptnet-numberbatch-17-06-300', 'word2vec-ruscorpora-300', 'word2vec-google-news-300', 'glove-wiki-gigaword-50', 'glove-wiki-gigaword-100', 'glove-wiki-gigaword-200', 'glove-wiki-gigaword-300', 'glove-twitter-25', 'glove-twitter-50', 'glove-twitter-100', 'glove-twitter-200', '__testing_word2vec-matrix-synopsis']\n"},"children":[],"key":"CLdkMkehaC"}],"key":"bokvSif4PQ"}],"key":"V2e3Ecy6ne"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"model = gensim.downloader.load('word2vec-google-news-300')","visibility":"show","key":"MJNgTHeSsW"},{"type":"outputs","id":"T8AopYGSo4RJXRZlqusNu","children":[],"visibility":"hide","key":"aLKzY1pSEm"}],"visibility":"show","key":"oBpqqAfYAl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"similarity = model.similarity('woman', 'man')\nsimilarity","key":"xxPRf3y01J"},{"type":"outputs","id":"V7I72ofpxuJ6H41LlXQJx","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":8,"metadata":{},"data":{"text/plain":{"content":"0.76640123","content_type":"text/plain"}}},"children":[],"key":"YcFbtZENKL"}],"key":"MQgVB4maOY"}],"key":"MwaPyO1fZ8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"model['king']","key":"rhSwXbTQ4x"},{"type":"outputs","id":"cgnYa5F2iSDYDg6R3EDuE","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":9,"metadata":{},"data":{"text/plain":{"content":"array([ 1.25976562e-01,  2.97851562e-02,  8.60595703e-03,  1.39648438e-01,\n       -2.56347656e-02, -3.61328125e-02,  1.11816406e-01, -1.98242188e-01,\n        5.12695312e-02,  3.63281250e-01, -2.42187500e-01, -3.02734375e-01,\n       -1.77734375e-01, -2.49023438e-02, -1.67968750e-01, -1.69921875e-01,\n        3.46679688e-02,  5.21850586e-03,  4.63867188e-02,  1.28906250e-01,\n        1.36718750e-01,  1.12792969e-01,  5.95703125e-02,  1.36718750e-01,\n        1.01074219e-01, -1.76757812e-01, -2.51953125e-01,  5.98144531e-02,\n        3.41796875e-01, -3.11279297e-02,  1.04492188e-01,  6.17675781e-02,\n        1.24511719e-01,  4.00390625e-01, -3.22265625e-01,  8.39843750e-02,\n        3.90625000e-02,  5.85937500e-03,  7.03125000e-02,  1.72851562e-01,\n        1.38671875e-01, -2.31445312e-01,  2.83203125e-01,  1.42578125e-01,\n        3.41796875e-01, -2.39257812e-02, -1.09863281e-01,  3.32031250e-02,\n       -5.46875000e-02,  1.53198242e-02, -1.62109375e-01,  1.58203125e-01,\n       -2.59765625e-01,  2.01416016e-02, -1.63085938e-01,  1.35803223e-03,\n       -1.44531250e-01, -5.68847656e-02,  4.29687500e-02, -2.46582031e-02,\n        1.85546875e-01,  4.47265625e-01,  9.58251953e-03,  1.31835938e-01,\n        9.86328125e-02, -1.85546875e-01, -1.00097656e-01, -1.33789062e-01,\n       -1.25000000e-01,  2.83203125e-01,  1.23046875e-01,  5.32226562e-02,\n       -1.77734375e-01,  8.59375000e-02, -2.18505859e-02,  2.05078125e-02,\n       -1.39648438e-01,  2.51464844e-02,  1.38671875e-01, -1.05468750e-01,\n        1.38671875e-01,  8.88671875e-02, -7.51953125e-02, -2.13623047e-02,\n        1.72851562e-01,  4.63867188e-02, -2.65625000e-01,  8.91113281e-03,\n        1.49414062e-01,  3.78417969e-02,  2.38281250e-01, -1.24511719e-01,\n       -2.17773438e-01, -1.81640625e-01,  2.97851562e-02,  5.71289062e-02,\n       -2.89306641e-02,  1.24511719e-02,  9.66796875e-02, -2.31445312e-01,\n        5.81054688e-02,  6.68945312e-02,  7.08007812e-02, -3.08593750e-01,\n       -2.14843750e-01,  1.45507812e-01, -4.27734375e-01, -9.39941406e-03,\n        1.54296875e-01, -7.66601562e-02,  2.89062500e-01,  2.77343750e-01,\n       -4.86373901e-04, -1.36718750e-01,  3.24218750e-01, -2.46093750e-01,\n       -3.03649902e-03, -2.11914062e-01,  1.25000000e-01,  2.69531250e-01,\n        2.04101562e-01,  8.25195312e-02, -2.01171875e-01, -1.60156250e-01,\n       -3.78417969e-02, -1.20117188e-01,  1.15234375e-01, -4.10156250e-02,\n       -3.95507812e-02, -8.98437500e-02,  6.34765625e-03,  2.03125000e-01,\n        1.86523438e-01,  2.73437500e-01,  6.29882812e-02,  1.41601562e-01,\n       -9.81445312e-02,  1.38671875e-01,  1.82617188e-01,  1.73828125e-01,\n        1.73828125e-01, -2.37304688e-01,  1.78710938e-01,  6.34765625e-02,\n        2.36328125e-01, -2.08984375e-01,  8.74023438e-02, -1.66015625e-01,\n       -7.91015625e-02,  2.43164062e-01, -8.88671875e-02,  1.26953125e-01,\n       -2.16796875e-01, -1.73828125e-01, -3.59375000e-01, -8.25195312e-02,\n       -6.49414062e-02,  5.07812500e-02,  1.35742188e-01, -7.47070312e-02,\n       -1.64062500e-01,  1.15356445e-02,  4.45312500e-01, -2.15820312e-01,\n       -1.11328125e-01, -1.92382812e-01,  1.70898438e-01, -1.25000000e-01,\n        2.65502930e-03,  1.92382812e-01, -1.74804688e-01,  1.39648438e-01,\n        2.92968750e-01,  1.13281250e-01,  5.95703125e-02, -6.39648438e-02,\n        9.96093750e-02, -2.72216797e-02,  1.96533203e-02,  4.27246094e-02,\n       -2.46093750e-01,  6.39648438e-02, -2.25585938e-01, -1.68945312e-01,\n        2.89916992e-03,  8.20312500e-02,  3.41796875e-01,  4.32128906e-02,\n        1.32812500e-01,  1.42578125e-01,  7.61718750e-02,  5.98144531e-02,\n       -1.19140625e-01,  2.74658203e-03, -6.29882812e-02, -2.72216797e-02,\n       -4.82177734e-03, -8.20312500e-02, -2.49023438e-02, -4.00390625e-01,\n       -1.06933594e-01,  4.24804688e-02,  7.76367188e-02, -1.16699219e-01,\n        7.37304688e-02, -9.22851562e-02,  1.07910156e-01,  1.58203125e-01,\n        4.24804688e-02,  1.26953125e-01,  3.61328125e-02,  2.67578125e-01,\n       -1.01074219e-01, -3.02734375e-01, -5.76171875e-02,  5.05371094e-02,\n        5.26428223e-04, -2.07031250e-01, -1.38671875e-01, -8.97216797e-03,\n       -2.78320312e-02, -1.41601562e-01,  2.07031250e-01, -1.58203125e-01,\n        1.27929688e-01,  1.49414062e-01, -2.24609375e-02, -8.44726562e-02,\n        1.22558594e-01,  2.15820312e-01, -2.13867188e-01, -3.12500000e-01,\n       -3.73046875e-01,  4.08935547e-03,  1.07421875e-01,  1.06933594e-01,\n        7.32421875e-02,  8.97216797e-03, -3.88183594e-02, -1.29882812e-01,\n        1.49414062e-01, -2.14843750e-01, -1.83868408e-03,  9.91210938e-02,\n        1.57226562e-01, -1.14257812e-01, -2.05078125e-01,  9.91210938e-02,\n        3.69140625e-01, -1.97265625e-01,  3.54003906e-02,  1.09375000e-01,\n        1.31835938e-01,  1.66992188e-01,  2.35351562e-01,  1.04980469e-01,\n       -4.96093750e-01, -1.64062500e-01, -1.56250000e-01, -5.22460938e-02,\n        1.03027344e-01,  2.43164062e-01, -1.88476562e-01,  5.07812500e-02,\n       -9.37500000e-02, -6.68945312e-02,  2.27050781e-02,  7.61718750e-02,\n        2.89062500e-01,  3.10546875e-01, -5.37109375e-02,  2.28515625e-01,\n        2.51464844e-02,  6.78710938e-02, -1.21093750e-01, -2.15820312e-01,\n       -2.73437500e-01, -3.07617188e-02, -3.37890625e-01,  1.53320312e-01,\n        2.33398438e-01, -2.08007812e-01,  3.73046875e-01,  8.20312500e-02,\n        2.51953125e-01, -7.61718750e-02, -4.66308594e-02, -2.23388672e-02,\n        2.99072266e-02, -5.93261719e-02, -4.66918945e-03, -2.44140625e-01,\n       -2.09960938e-01, -2.87109375e-01, -4.54101562e-02, -1.77734375e-01,\n       -2.79296875e-01, -8.59375000e-02,  9.13085938e-02,  2.51953125e-01],\n      dtype=float32)","content_type":"text/plain"}}},"children":[],"key":"eH4hjLeZ7c"}],"key":"M14kOgRPrK"}],"key":"YwKTsFaQ2T"},{"type":"block","kind":"notebook-content","children":[{"type":"tabSet","children":[{"type":"tabItem","title":"課題","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"学習済みモデルを読み込み、","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eaUuCln90E"},{"type":"inlineMath","value":"vec(king) - vec(man) + vec(woman)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi><mi>e</mi><mi>c</mi><mo stretchy=\"false\">(</mo><mi>k</mi><mi>i</mi><mi>n</mi><mi>g</mi><mo stretchy=\"false\">)</mo><mo>−</mo><mi>v</mi><mi>e</mi><mi>c</mi><mo stretchy=\"false\">(</mo><mi>m</mi><mi>a</mi><mi>n</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>v</mi><mi>e</mi><mi>c</mi><mo stretchy=\"false\">(</mo><mi>w</mi><mi>o</mi><mi>m</mi><mi>a</mi><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">vec(king) - vec(man) + vec(woman)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">ec</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">kin</span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">ec</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">man</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mord mathnormal\">ec</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02691em;\">w</span><span class=\"mord mathnormal\">o</span><span class=\"mord mathnormal\">man</span><span class=\"mclose\">)</span></span></span></span>","key":"JIx3NzBFaW"},{"type":"text","value":"を計算し，そのベクトルと類似度の高い10語とその類似度を出力せよ．","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UqVZkg8fTE"}],"key":"ay9j6G6kBH"}],"key":"D3c9hLMDHv"}],"key":"O2UDwKV3sE"}],"key":"pQ9OtWgHB6"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"その他、各言語の学習済みモデルが多数公開されています。","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lJRwrQvPqU"}],"key":"q1i5TUEDps"}],"key":"VGKtZyDJhG"},{"type":"block","kind":"notebook-content","children":[{"type":"table","position":{"start":{"line":1,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Name","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M9hGoC0a4E"}],"key":"ZVHDClMjzs"},{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ni5Rm7lCG9"}],"key":"StlGi7S67F"},{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OCFTIF1MuV"}],"key":"Hbr7YflyEE"},{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dim","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"goR1hjZZnZ"}],"key":"dVntL2I6pX"},{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Tokenizer","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ltsw9dAVcb"}],"key":"Naykhc1qBO"},{"type":"tableCell","header":true,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dict","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MplYvauY58"}],"key":"MLjkxH8yub"}],"key":"WeZ2G8TYtW"},{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://github.com/singletongue/WikiEntVec/","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"WikiEntVec","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"isxiOBWqSf"}],"urlSource":"https://github.com/singletongue/WikiEntVec/","error":true,"key":"zPpeVseTBn"}],"key":"IpPXXLNOnT"},{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Skip-gram","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"a1KEAOKqCz"}],"key":"SdcDoe8aWV"},{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Wikipedia","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FRGb8BiAwA"}],"key":"VNT7LLgzVM"},{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"100,200,300","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"avFqU1merv"}],"key":"ZidL6dwOz7"},{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"mecab","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ILoLAryCgn"}],"key":"DgD8pHpoHr"},{"type":"tableCell","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"mecab-ipadic-NEologd","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"nXtj07y0Kj"}],"key":"nIwFCQZdjA"}],"key":"aXshAIrEjM"},{"type":"tableRow","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"link","url":"https://github.com/shiroyagicorp/japanese-word2vec-model-builder","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"白ヤギ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"dZHD15QNwM"}],"urlSource":"https://github.com/shiroyagicorp/japanese-word2vec-model-builder","error":true,"key":"Q45rg8dDZc"}],"key":"dTc7phYq3B"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"CBOW","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"wp99VBHgrx"}],"key":"vFp23aWu3V"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Wikipedia","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Ssx5C519IC"}],"key":"Gr1U8RodBo"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"50","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"mz84pD6ZVs"}],"key":"oqmGWgdQyW"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"mecab","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"zy7X0lcQQF"}],"key":"SwMIdus6SA"},{"type":"tableCell","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"mecab-ipadic-NEologd","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"eORR8nxeB6"}],"key":"mDISRZv307"}],"key":"CJiWEJKP0k"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://github.com/WorksApplications/chiVe","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"chiVe","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"LkIB5TlLkk"}],"urlSource":"https://github.com/WorksApplications/chiVe","error":true,"key":"QSOWkEeTNj"}],"key":"TFJfyCsHiY"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Skip-gram","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Lhr5fKSFqd"}],"key":"eVaj0q7PNn"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"NWJC","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"D1XNh6Y3it"}],"key":"E9m3SQog9V"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"300","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ri9z5doOrc"}],"key":"KOgRb5HkmD"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Sudachi","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dHgKRSNdaV"}],"key":"mPAgMGTDLb"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[],"key":"VfkzQeaiic"}],"key":"eAjACv4t1p"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://github.com/bizreach/ai/tree/master/word2vec","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"bizreach","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"eLPLfcWgWd"}],"urlSource":"https://github.com/bizreach/ai/tree/master/word2vec","error":true,"key":"WCtCwirh2Q"}],"key":"KF6qXumx1b"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Skip-gram","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"yQ0tcJo56F"}],"key":"DO7HCBFgKm"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"求人データ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"EmHRsnn6Mv"}],"key":"h4yYDXPauA"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"100, 200","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ORmHIv9YVQ"}],"key":"OVEkhnpWG5"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"mecab","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"QfYAoPshXZ"}],"key":"i20wpRA9vz"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"ipadic","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"IExJrmO4fp"}],"key":"sQN9B2Hkrb"}],"key":"FKKlKSxHNk"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://github.com/lapras-inc/dependency-based-japanese-word-embeddings","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"dependency​-based​-japanese​-word​-embeddings","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"PBSmqreWCH"}],"urlSource":"https://github.com/lapras-inc/dependency-based-japanese-word-embeddings","error":true,"key":"PP0CvT3CgW"}],"key":"q0nsZm3GFn"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"https://levyomer.wordpress.com/2014/04/25/dependency-based-word-embeddings/","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Dependency-Based Word Embeddings","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Mh9kZnx0x2"}],"urlSource":"https://levyomer.wordpress.com/2014/04/25/dependency-based-word-embeddings/","key":"WHGn5Gf7ur"}],"key":"PHJgLHnoT6"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Wikipedia","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZUWZUxq1Im"}],"key":"q2f846h2y3"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"100, 200, 300","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"kHCAkvBQt6"}],"key":"hAP3X8zb2H"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Ginza","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"osJhraIdjE"}],"key":"RrVQb8XgNA"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[],"key":"cbuxaiAepU"}],"key":"K1ttJUzEUP"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"https://github.com/facebookresearch/fastText/blob/master/docs/crawl-vectors.md","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"fastText","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Q3O1z33Pb3"}],"urlSource":"https://github.com/facebookresearch/fastText/blob/master/docs/crawl-vectors.md","data":{"kind":"file","org":"facebookresearch","repo":"fastText","reference":"master","file":"docs/crawl-vectors.md","raw":"https://raw.githubusercontent.com/facebookresearch/fastText/master/docs/crawl-vectors.md"},"internal":false,"protocol":"github","key":"rWf2gBhPDD"}],"key":"UFn7PChqi7"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"CBOW","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CmkgUBFN49"}],"key":"gXkM1YW9tg"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Common Crawl, Wikipedia","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"WVfbagG2O7"}],"key":"Qf8SitTs5W"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"300","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"HN2wgQWx6D"}],"key":"IcMkpF6Q5s"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"mecab","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"WCTOmdJuXK"}],"key":"M6ko8fT8wo"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"?","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"ZEoB6fwiqz"}],"key":"uKOwUOV7Od"}],"key":"U4Ig3clQxf"},{"type":"tableRow","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"link","url":"https://github.com/wikipedia2vec/wikipedia2vec","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"wikipedia2vec","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"b2Eh2sKgaP"}],"urlSource":"https://github.com/wikipedia2vec/wikipedia2vec","error":true,"key":"ASe0clMtvp"}],"key":"QrsbjQJEk9"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Skip-gram","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"vHX7GQeQpK"}],"key":"lZhvtH8QVd"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Wikipedia","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"vLTaPInzqc"}],"key":"cwpPbYb65H"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"100, 300","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"e9SnzL4bEL"}],"key":"WzwO7g0XAq"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"mecab","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Pv1PACfYVt"}],"key":"Tpfn0X2uBw"},{"type":"tableCell","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"?","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"fEdU4WIlAz"}],"key":"n5QpoMiQNW"}],"key":"rQq2yJ0AGW"},{"type":"tableRow","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"link","url":"https://github.com/Kyubyong/wordvectors","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"wordvectors","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"jpQJrRMhCc"}],"urlSource":"https://github.com/Kyubyong/wordvectors","error":true,"key":"seRp0XAYw8"}],"key":"TD9A0AnwCR"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Skip-gram, fastText","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"JTTkI6HwOF"}],"key":"YtjdTrSkwe"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Wikipedia","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"HkyE6mYWsO"}],"key":"DGYJuHdBJ1"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"300","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"jVgLibUCAc"}],"key":"eW0VnHpaJx"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"mecab","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"kLfBMwzvfO"}],"key":"aEYtR3gGXO"},{"type":"tableCell","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"?","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"nDdbNf9Ly7"}],"key":"fj7a06wp8q"}],"key":"Cwy589P3Ep"}],"key":"w2PPTIqeSn"}],"key":"FY9yG4ru42"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"単語分散表現の可視化","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OaABnIsZoh"}],"identifier":"id","label":"単語分散表現の可視化","html_id":"id-3","implicit":true,"enumerator":"1.5","key":"rHABVyH7iV"}],"key":"SV3pvgrqGl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nfrom sklearn.manifold import TSNE\nimport numpy as np\n\n\n# List of words to visualize\nwords = ['woman', 'women', 'man', 'men', 'king', 'queen', 'prince', 'princess']\n\n# Check if the words are in the model to avoid KeyError\nvectors = [model[word] for word in words if word in model]\n\n# Converting list of vectors to a numpy array\nvectors_array = np.array(vectors)\n\n# Applying t-SNE for dimensionality reduction\ntsne = TSNE(n_components=2, random_state=0, perplexity=3)\nvectors_tsne = tsne.fit_transform(vectors_array)\n\n# Visualization\nplt.figure(figsize=(4, 4))\nfor i, word in enumerate(words):\n    if word in model:\n        plt.scatter(vectors_tsne[i, 0], vectors_tsne[i, 1])\n        plt.annotate(word, (vectors_tsne[i, 0], vectors_tsne[i, 1]))\n\nplt.xlabel('t-SNE Feature 0')\nplt.ylabel('t-SNE Feature 1')\nplt.title('t-SNE Visualization of Word Vectors')\nplt.show()","key":"YmT8b3YnxT"},{"type":"outputs","id":"XrVg8MbpGTOeO9T96LaRr","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"beaf67fad9e741ae11eed335718edee4","path":"/build/beaf67fad9e741ae11eed335718edee4.png"},"text/plain":{"content":"<Figure size 400x400 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"vIcWX13awy"}],"key":"ORLxReZa7F"}],"key":"thLWpFOYth"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"tensorboardで単語分散表現の可視化","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RtTESf5dGs"}],"identifier":"tensorboard","label":"tensorboardで単語分散表現の可視化","html_id":"tensorboard","implicit":true,"enumerator":"1.6","key":"lmwEfAyccn"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"可視化の際に用いられるツールとしては、TensorFlowのツールの一つであるTensorBoardが、豊富な機能とインタラクティブな操作性を備えています。","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"sluYKotDbL"}],"key":"p8dILlwwEu"}],"key":"v9P9sdEOPy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from tensorboardX import SummaryWriter\nimport torch","key":"Q2jem6lyYj"},{"type":"outputs","id":"swcl39yf22m9xlJyNStmn","children":[],"key":"ZUPICGk8Tn"}],"key":"tG4Qx39c1O"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# 分散表現・単語のリストを取得\nweights = model.vectors\nlabels = model.index_to_key","key":"cnezMsYL3t"},{"type":"outputs","id":"hrZviqP5nXCO-1MXN-1Ia","children":[],"key":"bPp8PxaJMj"}],"key":"dFInfJRico"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"weights = weights[:1000]\nlabels = labels[:1000]","key":"K3Gkb0VG6h"},{"type":"outputs","id":"iup1jDk01g7RjpP1NvHax","children":[],"key":"TURCak1YmF"}],"key":"mKRmvR8EQv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"writer = SummaryWriter('runs/google_embeddings')\nwriter.add_embedding(torch.FloatTensor(weights), metadata=labels)","key":"r0d1Upbuth"},{"type":"outputs","id":"JJ-TUT1gJyIBJDNjQmtQN","children":[],"key":"LsbFgJY0hX"}],"key":"wRd65wISO3"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"上記スクリプトを実行すると、実行されたディレクトリにデータが作成されます。TensorBoardの起動時にrunsディレクトリを指定することで、変換した単語の分散表現が可視化できます。","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SNSpSRKhHb"}],"key":"vBgpwpulfW"},{"type":"code","lang":"","value":"tensorboard --logdir=runs","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"key":"O1hA75c5zC"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"上記コマンドを実行した状態で ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ESGDd6aMfO"},{"type":"inlineCode","value":"http://localhost:6006/","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"KbHJvTjWTo"},{"type":"text","value":" にアクセスすると、PROJECTORのページにてグラフが確認できます。","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"zT1YtF19bn"}],"key":"NfEcPnCZjr"}],"key":"MwfPzVw3yt"}],"key":"v3TCvzXZSo"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"word2vec","url":"/word2vec-2-embedding","group":"単語分散表現"},"next":{"title":"Word2Vecが人文・社会科学研究における応用","url":"/word2vec-application","group":"単語分散表現"}}},"domain":"http://localhost:3001"}